{
    "version": "https://jsonfeed.org/version/1",
    "title": "寒宵的随想录",
    "subtitle": "",
    "icon": "https://hanxiaoi.github.io/assets/favicon.ico",
    "description": "记录有趣内容",
    "home_page_url": "https://hanxiaoi.github.io",
    "items": [
        {
            "id": "https://hanxiaoi.github.io/2025/07/22/ROS_ROMA_Integration_README/",
            "url": "https://hanxiaoi.github.io/2025/07/22/ROS_ROMA_Integration_README/",
            "title": "ROS-ROMA集成SLAM系统使用说明",
            "date_published": "2025-07-21T16:00:00.000Z",
            "content_html": "<h2 id=\"完整运行步骤\"><a class=\"anchor\" href=\"#完整运行步骤\">#</a> 完整运行步骤</h2>\n<h3 id=\"环境要求\"><a class=\"anchor\" href=\"#环境要求\">#</a> 环境要求</h3>\n<ul>\n<li>Ubuntu 20.04 + ROS Noetic</li>\n<li>OpenCV 3.x/4.x</li>\n<li>Python 3.8+</li>\n<li>PyTorch + ROMA 模型</li>\n<li>已配置的 romatch 虚拟环境</li>\n</ul>\n<hr />\n<h2 id=\"详细运行步骤\"><a class=\"anchor\" href=\"#详细运行步骤\">#</a> 🚀 详细运行步骤</h2>\n<h3 id=\"第一步启动ros核心服务\"><a class=\"anchor\" href=\"#第一步启动ros核心服务\">#</a> 第一步：启动 ROS 核心服务</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 【终端 1】- 保持运行，不要关闭</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">source</span> /opt/ros/noetic/setup.bash</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>roscore</pre></td></tr></table></figure><p><strong>等待输出</strong>：看到 <code>started core service [/rosout]</code>  表示成功启动</p>\n<hr />\n<h3 id=\"第二步启动roma匹配服务\"><a class=\"anchor\" href=\"#第二步启动roma匹配服务\">#</a> 第二步：启动 ROMA 匹配服务</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 【终端 2】- 新开终端</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /media/hanxiao/新加卷1/linux/work/roma_slam2/ros_match_ws_v2</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">source</span> devel/setup.bash</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">source</span> activate romatch  <span class=\"token comment\"># 激活 ROMA 虚拟环境</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># 启动 ROMA 匹配节点</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">cd</span> src/roma_bridge/scripts</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>python3 roma_match_node.py</pre></td></tr></table></figure><p><strong>等待输出</strong>：看到 <code>roma_ros_node started</code>  表示 ROMA 服务就绪</p>\n<hr />\n<h3 id=\"第三步编译slam项目\"><a class=\"anchor\" href=\"#第三步编译slam项目\">#</a> 第三步：编译 SLAM 项目</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 【终端 3】- 新开终端 </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /media/hanxiao/新加卷1/linux/work/roma_slam2</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">source</span> ros_match_ws_v2/devel/setup.bash</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 编译项目（启用 ROS 支持）</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> build <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">cd</span> build</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>cmake <span class=\"token punctuation\">..</span> <span class=\"token parameter variable\">-DROS_SUPPORT</span><span class=\"token operator\">=</span>ON</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token parameter variable\">-j4</span></pre></td></tr></table></figure><p><strong>编译成功标志</strong>：看到 <code>[100%] Built target mono_tum</code></p>\n<hr />\n<h3 id=\"第四步运行slam系统\"><a class=\"anchor\" href=\"#第四步运行slam系统\">#</a> 第四步：运行 SLAM 系统</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 【终端 3】编译完成后</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>  <span class=\"token comment\"># 回到项目根目录</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 运行单目 SLAM - 示例命令</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>./Examples/Monocular/mono_tum <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    Vocabulary/ORBvoc.txt <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    Examples/Monocular/TUM1.yaml <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    /path/to/your/dataset</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 实际使用时替换为您的数据集路径，例如：</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># ./Examples/Monocular/mono_tum Vocabulary/ORBvoc.txt Examples/Monocular/TUM1.yaml /media/hanxiao/data/rgbd_dataset_freiburg1_xyz</span></pre></td></tr></table></figure><hr />\n<h3 id=\"可选监控ros通信状态\"><a class=\"anchor\" href=\"#可选监控ros通信状态\">#</a> 可选：监控 ROS 通信状态</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 【终端 4】- 调试监控（可选）</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">source</span> /media/hanxiao/新加卷1/linux/work/roma_slam2/ros_match_ws_v2/devel/setup.bash</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 查看活跃 topics</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>rostopic list</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 监控匹配请求和结果</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>rostopic <span class=\"token builtin class-name\">echo</span> /feature_match_request    <span class=\"token comment\"># 查看请求</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>rostopic <span class=\"token builtin class-name\">echo</span> /feature_match_result     <span class=\"token comment\"># 查看结果</span></pre></td></tr></table></figure><hr />\n<h2 id=\"运行检查清单\"><a class=\"anchor\" href=\"#运行检查清单\">#</a> 📋 运行检查清单</h2>\n<h3 id=\"启动前检查\"><a class=\"anchor\" href=\"#启动前检查\">#</a> 启动前检查：</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" disabled=\"true\" /><label for=\"cbx_0\"> ROS Noetic 已安装并 source</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_1\" disabled=\"true\" /><label for=\"cbx_1\"> romatch 虚拟环境已激活</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_2\" disabled=\"true\" /><label for=\"cbx_2\"> ROS 工作空间已编译： <code>ros_match_ws_v2/devel/setup.bash</code> </label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_3\" disabled=\"true\" /><label for=\"cbx_3\"> 数据集路径正确</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_4\" disabled=\"true\" /><label for=\"cbx_4\"> 配置文件存在（如 TUM1.yaml）</label></li>\n</ul>\n<h3 id=\"运行时监控\"><a class=\"anchor\" href=\"#运行时监控\">#</a> 运行时监控：</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_5\" disabled=\"true\" /><label for=\"cbx_5\"> <strong>终端 1</strong>：roscore 正常运行</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_6\" disabled=\"true\" /><label for=\"cbx_6\"> <strong>终端 2</strong>：ROMA 节点无错误</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_7\" disabled=\"true\" /><label for=\"cbx_7\"> <strong>终端 3</strong>：SLAM 系统输出正常</label></li>\n</ul>\n<h3 id=\"成功运行标志\"><a class=\"anchor\" href=\"#成功运行标志\">#</a> 成功运行标志：</h3>\n<pre><code>✅ ROS node initialized\n✅ LoFTR Integration: ENABLED  \n✅ ROS Communication: INITIALIZED\n✅ Using LoFTR for MonocularInitialization...\n✅ Requesting ROS-ROMA matching for initialization...\n✅ ROS-ROMA generated X matches\n✅ Initialization SUCCESS! Creating initial map...\n</code></pre>\n<hr />\n<h2 id=\"️-配置文件说明\"><a class=\"anchor\" href=\"#️-配置文件说明\">#</a> ⚙️ 配置文件说明</h2>\n<h3 id=\"tumeuroc配置文件需包含\"><a class=\"anchor\" href=\"#tumeuroc配置文件需包含\">#</a> TUM/EuRoC 配置文件需包含：</h3>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># LoFTR/ROMA 配置</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">LoFTR.use</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>                      <span class=\"token comment\"># 启用 ROMA 匹配</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">LoFTR.confidenceThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.8</span>    <span class=\"token comment\"># 置信度阈值  </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">LoFTR.distanceThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5.0</span>      <span class=\"token comment\"># 距离阈值</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token key atrule\">LoFTR.initThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>           <span class=\"token comment\"># 初始化所需最少匹配数</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 相机参数（必须）</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key atrule\">Camera.fx</span><span class=\"token punctuation\">:</span> <span class=\"token number\">517.306408</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token key atrule\">Camera.fy</span><span class=\"token punctuation\">:</span> <span class=\"token number\">516.469215</span>  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token key atrule\">Camera.cx</span><span class=\"token punctuation\">:</span> <span class=\"token number\">318.643040</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token key atrule\">Camera.cy</span><span class=\"token punctuation\">:</span> <span class=\"token number\">255.313989</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># ... 其他相机参数</span></pre></td></tr></table></figure><hr />\n<h2 id=\"ros通信协议\"><a class=\"anchor\" href=\"#ros通信协议\">#</a> 📡 ROS 通信协议</h2>\n<h3 id=\"featurematchrequest-发送\"><a class=\"anchor\" href=\"#featurematchrequest-发送\">#</a> FeatureMatchRequest (发送)</h3>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>std_msgs/Header header</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sensor_msgs/Image image1      <span class=\"token comment\"># 参考图像（BGR 格式）</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>sensor_msgs/Image image2      <span class=\"token comment\"># 当前图像（BGR 格式）</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>float32<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> keypoints1_x        <span class=\"token comment\"># 参考图像 ORB 关键点 X 坐标</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>float32<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> keypoints1_y        <span class=\"token comment\"># 参考图像 ORB 关键点 Y 坐标</span></pre></td></tr></table></figure><h3 id=\"featurematchresult-接收\"><a class=\"anchor\" href=\"#featurematchresult-接收\">#</a> FeatureMatchResult (接收)</h3>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>std_msgs/Header header</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>float32<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> matches_x           <span class=\"token comment\"># 匹配点 X 坐标（与输入关键点一一对应）</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>float32<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> matches_y           <span class=\"token comment\"># 匹配点 Y 坐标（无效匹配时为 - 1）</span></pre></td></tr></table></figure><h3 id=\"topic名称\"><a class=\"anchor\" href=\"#topic名称\">#</a> Topic 名称</h3>\n<ul>\n<li><strong>Request</strong>:  <code>/feature_match_request</code></li>\n<li><strong>Result</strong>:  <code>/feature_match_result</code></li>\n</ul>\n<hr />\n<h2 id=\"系统优势对比\"><a class=\"anchor\" href=\"#系统优势对比\">#</a> 🎯 系统优势对比</h2>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>原 LoFTR 文件方式</th>\n<th>新 ROS-ROMA 方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>数据预处理</strong></td>\n<td>❌ 需预计算 NPZ 文件</td>\n<td>✅ 实时计算</td>\n</tr>\n<tr>\n<td><strong>存储需求</strong></td>\n<td>❌ 大量磁盘空间</td>\n<td>✅ 最小内存占用</td>\n</tr>\n<tr>\n<td><strong>匹配灵活性</strong></td>\n<td>❌ 固定图像对</td>\n<td>✅ 任意图像匹配</td>\n</tr>\n<tr>\n<td><strong>warp 场支持</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 完全支持</td>\n</tr>\n<tr>\n<td><strong>跟踪能力</strong></td>\n<td>❌ 难以实现</td>\n<td>✅ 优秀的跟踪性能</td>\n</tr>\n<tr>\n<td><strong>实时性</strong></td>\n<td>❌ 离线处理</td>\n<td>✅ 实时响应</td>\n</tr>\n<tr>\n<td><strong>扩展性</strong></td>\n<td>❌ 难以扩展</td>\n<td>✅ 模块化设计</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"故障排除指南\"><a class=\"anchor\" href=\"#故障排除指南\">#</a> 🔧 故障排除指南</h2>\n<h3 id=\"编译问题\"><a class=\"anchor\" href=\"#编译问题\">#</a> 编译问题</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 1. ROS 依赖缺失</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> ros-noetic-cv-bridge ros-noetic-sensor-msgs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 2. feature_msgs 未编译</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">cd</span> ros_match_ws_v2 <span class=\"token operator\">&amp;&amp;</span> catkin_make</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 3. 头文件路径错误</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token builtin class-name\">source</span> ros_match_ws_v2/devel/setup.bash</pre></td></tr></table></figure><h3 id=\"运行时问题\"><a class=\"anchor\" href=\"#运行时问题\">#</a> 运行时问题</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 1. ROS 通信失败 - 检查节点状态</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>rosnode list</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>rosnode info /roma_ros_node</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 2. Topic 通信问题</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>rostopic info /feature_match_request</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>rostopic info /feature_match_result</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># 3. ROMA 模型加载失败</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 检查 Python 环境和 ROMA 模型文件</span></pre></td></tr></table></figure><h3 id=\"性能问题\"><a class=\"anchor\" href=\"#性能问题\">#</a> 性能问题</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 1. 超时频繁 - 调整超时参数</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 在 Tracking.cc 中修改 timeout_sec 值</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 2. 内存不足 - 降低 ROMA 分辨率</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 在 roma_match_node.py 中调整 coarse_res 和 upsample_res</span></pre></td></tr></table></figure><hr />\n<h2 id=\"项目成果总结\"><a class=\"anchor\" href=\"#项目成果总结\">#</a> 🚀 项目成果总结</h2>\n<h3 id=\"已完成功能\"><a class=\"anchor\" href=\"#已完成功能\">#</a> ✅ 已完成功能</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_8\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_8\"> <strong>初始化成功</strong>：ROS-ROMA 实现 SLAM 初始化</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_9\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_9\"> <strong>ROS 通信</strong>：稳定的异步消息传递</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_10\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_10\"> <strong>条件编译</strong>：支持有 / 无 ROS 环境编译</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_11\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_11\"> <strong>图像处理</strong>：自动 BGR/RGB 转换适配</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_12\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_12\"> <strong>错误处理</strong>：完善的超时和异常管理</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_13\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_13\"> <strong>性能优化</strong>：独立线程避免阻塞</label></li>\n</ul>\n<h3 id=\"下一步计划跟踪功能\"><a class=\"anchor\" href=\"#下一步计划跟踪功能\">#</a> 🎯 下一步计划：跟踪功能</h3>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 在 TrackWithMotionModel () 或 TrackReferenceKeyFrame () 中</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// 替换 ORB 匹配为 ROS-ROMA 匹配</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">int</span> nmatches <span class=\"token operator\">=</span> mpLoFTRMatcher<span class=\"token operator\">-></span><span class=\"token function\">MatchFramesWithROS</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    referenceImage<span class=\"token punctuation\">,</span> mCurrentImageColor<span class=\"token punctuation\">,</span> referenceKeypoints<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    matched_pts1<span class=\"token punctuation\">,</span> matched_pts2<span class=\"token punctuation\">,</span> confidences<span class=\"token punctuation\">,</span> <span class=\"token number\">3.0f</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"技术指标\"><a class=\"anchor\" href=\"#技术指标\">#</a> 📊 技术指标</h3>\n<ul>\n<li><strong>初始化匹配数</strong>：通常 200-800 个 ROMA 匹配点</li>\n<li><strong>通信延迟</strong>：&lt;100ms (取决于 GPU 性能)</li>\n<li><strong>内存占用</strong>：相比文件方式减少 90%+</li>\n<li><strong>实时性</strong>：支持 30fps 视频流处理</li>\n<li><strong>稳定性</strong>：异步通信 + 超时保护</li>\n</ul>\n<hr />\n<h2 id=\"支持信息\"><a class=\"anchor\" href=\"#支持信息\">#</a> 📞 支持信息</h2>\n<h3 id=\"重要文件路径\"><a class=\"anchor\" href=\"#重要文件路径\">#</a> 重要文件路径</h3>\n<pre><code>roma_slam2/\n├── src/LoFTRMatcher.cc          # ROS通信核心实现\n├── include/LoFTRMatcher.h       # ROS接口定义\n├── src/Tracking.cc              # SLAM集成逻辑  \n├── Examples/Monocular/mono_tum.cc  # 程序入口\n└── ros_match_ws_v2/             # ROS工作空间\n    └── src/roma_bridge/scripts/roma_match_node.py  # ROMA服务\n</code></pre>\n<h3 id=\"调试命令\"><a class=\"anchor\" href=\"#调试命令\">#</a> 调试命令</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 查看 ROS 话题流量</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>rostopic hz /feature_match_request</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>rostopic hz /feature_match_result</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 监控系统资源</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">htop</span>        <span class=\"token comment\"># CPU / 内存使用</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>nvidia-smi  <span class=\"token comment\"># GPU 使用情况</span></pre></td></tr></table></figure>",
            "tags": [
                "工程记录",
                "毕设",
                "slam"
            ]
        },
        {
            "id": "https://hanxiaoi.github.io/2025/07/16/hello-world/",
            "url": "https://hanxiaoi.github.io/2025/07/16/hello-world/",
            "title": "Hello World",
            "date_published": "2025-07-16T07:28:47.372Z",
            "content_html": "<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo new <span class=\"token string\">\"My New Post\"</span></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo server</pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo generate</pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo deploy</pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n",
            "tags": []
        }
    ]
}