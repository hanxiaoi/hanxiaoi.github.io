<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="å¯’å®µçš„éšæƒ³å½•" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="å¯’å®µçš„éšæƒ³å½•" type="application/atom+xml"><link rel="alternate" type="application/json" title="å¯’å®µçš„éšæƒ³å½•" href="https://hanxiaoi.github.io/feed.json"/><link rel="preconnect" href="https://s4.zstatic.net"/><link rel="preconnect" href="https://at.alicdn.com"/><link rel="modulepreload" href="/js/siteInit.js"></link><link rel="modulepreload" href="/js/nyx-player-CPO7PTTS.js"></link><link rel="modulepreload" href="/js/copy-tex-QNXBQU3Q.js"></link><link rel="modulepreload" href="/js/post-6PGUWB4P.js"></link><link rel="modulepreload" href="/js/chunk-T7SYQZET.js"></link><link rel="modulepreload" href="/js/index.esm-BNYTVRT3.js"></link><link rel="modulepreload" href="/js/chunk-D4ZSMMI3.js"></link><link rel="modulepreload" href="/js/chunk-6B6XPRSU.js"></link><link rel="stylesheet" href="/css/siteInit.css" media="none" onload="this.media&#x3D;&#39;all&#39;"></link><link rel="preload" href="/wallpaper.jpg" as="image" fetchpriority="high"><meta name="keywords" content="æ¯•è®¾,"/><meta name="description" content="ROS-ROMAé›†æˆSLAMç³»ç»Ÿä½¿ç”¨è¯´æ˜"/><link rel="canonical" href="https://hanxiaoi.github.io/2025/07/22/ROS_ROMA_Integration_README/"><link rel="stylesheet" href="/css/post.css?v=0.5.0"><link rel="stylesheet" href="/css/mermaid.css?v=0.5.0"><!-- ä¸´æ—¶å¤„ç†--><link rel="stylesheet" media="none" onload="this.media='all'" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css"><title>ROS-ROMAé›†æˆSLAMç³»ç»Ÿä½¿ç”¨è¯´æ˜</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">ROS-ROMAé›†æˆSLAMç³»ç»Ÿä½¿ç”¨è¯´æ˜</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2025-07-22 00:00:00"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">å‘è¡¨äº</span><time itemprop="dateCreated datePublished" datetime="2025-07-22T00:00:00+08:00">2025-07-22</time></span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i></span><span class="text">æœ¬æ–‡å­—æ•°</span><span>4.9k</span><span class="text">å­—</span></span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i></span><span class="text">é˜…è¯»æ—¶é•¿</span><span>4 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">hanxiao's blog</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><img src="/wallpaper.jpg" loading="eager" decoding="async" fetchpriority="high" alt="å¯’å®µçš„éšæƒ³å½•"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/categories/%E5%B7%A5%E7%A8%8B%E8%AE%B0%E5%BD%95/" itemprop="item" rel="index" title="åˆ†ç±»äºå·¥ç¨‹è®°å½•"><span itemprop="name">å·¥ç¨‹è®°å½•<meta itemprop="position" content="0"/></span></a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="zh-cn"><link itemprop="mainEntityOfPage" href="https://hanxiaoi.github.io/2025/07/22/ROS_ROMA_Integration_README/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="å¯’å®µ"/><meta itemprop="description" content=", è®°å½•æœ‰è¶£å†…å®¹"/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="å¯’å®µçš„éšæƒ³å½•"/></span><div class="body md" itemprop="articleBody"><h2 id="å®Œæ•´è¿è¡Œæ­¥éª¤"><a class="anchor" href="#å®Œæ•´è¿è¡Œæ­¥éª¤">#</a> å®Œæ•´è¿è¡Œæ­¥éª¤</h2>
<h3 id="ç¯å¢ƒè¦æ±‚"><a class="anchor" href="#ç¯å¢ƒè¦æ±‚">#</a> ç¯å¢ƒè¦æ±‚</h3>
<ul>
<li>Ubuntu 20.04 + ROS Noetic</li>
<li>OpenCV 3.x/4.x</li>
<li>Python 3.8+</li>
<li>PyTorch + ROMA æ¨¡å‹</li>
<li>å·²é…ç½®çš„ romatch è™šæ‹Ÿç¯å¢ƒ</li>
</ul>
<hr />
<h2 id="è¯¦ç»†è¿è¡Œæ­¥éª¤"><a class="anchor" href="#è¯¦ç»†è¿è¡Œæ­¥éª¤">#</a> ğŸš€ è¯¦ç»†è¿è¡Œæ­¥éª¤</h2>
<h3 id="ç¬¬ä¸€æ­¥å¯åŠ¨rosæ ¸å¿ƒæœåŠ¡"><a class="anchor" href="#ç¬¬ä¸€æ­¥å¯åŠ¨rosæ ¸å¿ƒæœåŠ¡">#</a> ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨ ROS æ ¸å¿ƒæœåŠ¡</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># ã€ç»ˆç«¯ 1ã€‘- ä¿æŒè¿è¡Œï¼Œä¸è¦å…³é—­</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">source</span> /opt/ros/noetic/setup.bash</pre></td></tr><tr><td data-num="3"></td><td><pre>roscore</pre></td></tr></table></figure><p><strong>ç­‰å¾…è¾“å‡º</strong>ï¼šçœ‹åˆ° <code>started core service [/rosout]</code>  è¡¨ç¤ºæˆåŠŸå¯åŠ¨</p>
<hr />
<h3 id="ç¬¬äºŒæ­¥å¯åŠ¨romaåŒ¹é…æœåŠ¡"><a class="anchor" href="#ç¬¬äºŒæ­¥å¯åŠ¨romaåŒ¹é…æœåŠ¡">#</a> ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ ROMA åŒ¹é…æœåŠ¡</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># ã€ç»ˆç«¯ 2ã€‘- æ–°å¼€ç»ˆç«¯</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">cd</span> /media/hanxiao/æ–°åŠ å·1/linux/work/roma_slam2/ros_match_ws_v2</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">source</span> devel/setup.bash</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">source</span> activate romatch  <span class="token comment"># æ¿€æ´» ROMA è™šæ‹Ÿç¯å¢ƒ</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># å¯åŠ¨ ROMA åŒ¹é…èŠ‚ç‚¹</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin class-name">cd</span> src/roma_bridge/scripts</pre></td></tr><tr><td data-num="8"></td><td><pre>python3 roma_match_node.py</pre></td></tr></table></figure><p><strong>ç­‰å¾…è¾“å‡º</strong>ï¼šçœ‹åˆ° <code>roma_ros_node started</code>  è¡¨ç¤º ROMA æœåŠ¡å°±ç»ª</p>
<hr />
<h3 id="ç¬¬ä¸‰æ­¥ç¼–è¯‘slamé¡¹ç›®"><a class="anchor" href="#ç¬¬ä¸‰æ­¥ç¼–è¯‘slamé¡¹ç›®">#</a> ç¬¬ä¸‰æ­¥ï¼šç¼–è¯‘ SLAM é¡¹ç›®</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># ã€ç»ˆç«¯ 3ã€‘- æ–°å¼€ç»ˆç«¯ </span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">cd</span> /media/hanxiao/æ–°åŠ å·1/linux/work/roma_slam2</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">source</span> ros_match_ws_v2/devel/setup.bash</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># ç¼–è¯‘é¡¹ç›®ï¼ˆå¯ç”¨ ROS æ”¯æŒï¼‰</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> build <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> build</pre></td></tr><tr><td data-num="7"></td><td><pre>cmake <span class="token punctuation">..</span> <span class="token parameter variable">-DROS_SUPPORT</span><span class="token operator">=</span>ON</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">make</span> <span class="token parameter variable">-j4</span></pre></td></tr></table></figure><p><strong>ç¼–è¯‘æˆåŠŸæ ‡å¿—</strong>ï¼šçœ‹åˆ° <code>[100%] Built target mono_tum</code></p>
<hr />
<h3 id="ç¬¬å››æ­¥è¿è¡Œslamç³»ç»Ÿ"><a class="anchor" href="#ç¬¬å››æ­¥è¿è¡Œslamç³»ç»Ÿ">#</a> ç¬¬å››æ­¥ï¼šè¿è¡Œ SLAM ç³»ç»Ÿ</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># ã€ç»ˆç«¯ 3ã€‘ç¼–è¯‘å®Œæˆå</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>  <span class="token comment"># å›åˆ°é¡¹ç›®æ ¹ç›®å½•</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># è¿è¡Œå•ç›® SLAM - ç¤ºä¾‹å‘½ä»¤</span></pre></td></tr><tr><td data-num="5"></td><td><pre>./Examples/Monocular/mono_tum <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    Vocabulary/ORBvoc.txt <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    Examples/Monocular/TUM1.yaml <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    /path/to/your/dataset</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># å®é™…ä½¿ç”¨æ—¶æ›¿æ¢ä¸ºæ‚¨çš„æ•°æ®é›†è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># ./Examples/Monocular/mono_tum Vocabulary/ORBvoc.txt Examples/Monocular/TUM1.yaml /media/hanxiao/data/rgbd_dataset_freiburg1_xyz</span></pre></td></tr></table></figure><hr />
<h3 id="å¯é€‰ç›‘æ§rosé€šä¿¡çŠ¶æ€"><a class="anchor" href="#å¯é€‰ç›‘æ§rosé€šä¿¡çŠ¶æ€">#</a> å¯é€‰ï¼šç›‘æ§ ROS é€šä¿¡çŠ¶æ€</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># ã€ç»ˆç«¯ 4ã€‘- è°ƒè¯•ç›‘æ§ï¼ˆå¯é€‰ï¼‰</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">source</span> /media/hanxiao/æ–°åŠ å·1/linux/work/roma_slam2/ros_match_ws_v2/devel/setup.bash</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># æŸ¥çœ‹æ´»è·ƒ topics</span></pre></td></tr><tr><td data-num="5"></td><td><pre>rostopic list</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># ç›‘æ§åŒ¹é…è¯·æ±‚å’Œç»“æœ</span></pre></td></tr><tr><td data-num="8"></td><td><pre>rostopic <span class="token builtin class-name">echo</span> /feature_match_request    <span class="token comment"># æŸ¥çœ‹è¯·æ±‚</span></pre></td></tr><tr><td data-num="9"></td><td><pre>rostopic <span class="token builtin class-name">echo</span> /feature_match_result     <span class="token comment"># æŸ¥çœ‹ç»“æœ</span></pre></td></tr></table></figure><hr />
<h2 id="è¿è¡Œæ£€æŸ¥æ¸…å•"><a class="anchor" href="#è¿è¡Œæ£€æŸ¥æ¸…å•">#</a> ğŸ“‹ è¿è¡Œæ£€æŸ¥æ¸…å•</h2>
<h3 id="å¯åŠ¨å‰æ£€æŸ¥"><a class="anchor" href="#å¯åŠ¨å‰æ£€æŸ¥">#</a> å¯åŠ¨å‰æ£€æŸ¥ï¼š</h3>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_0" disabled="true" /><label for="cbx_0"> ROS Noetic å·²å®‰è£…å¹¶ source</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_1" disabled="true" /><label for="cbx_1"> romatch è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_2" disabled="true" /><label for="cbx_2"> ROS å·¥ä½œç©ºé—´å·²ç¼–è¯‘ï¼š <code>ros_match_ws_v2/devel/setup.bash</code> </label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_3" disabled="true" /><label for="cbx_3"> æ•°æ®é›†è·¯å¾„æ­£ç¡®</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_4" disabled="true" /><label for="cbx_4"> é…ç½®æ–‡ä»¶å­˜åœ¨ï¼ˆå¦‚ TUM1.yamlï¼‰</label></li>
</ul>
<h3 id="è¿è¡Œæ—¶ç›‘æ§"><a class="anchor" href="#è¿è¡Œæ—¶ç›‘æ§">#</a> è¿è¡Œæ—¶ç›‘æ§ï¼š</h3>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_5" disabled="true" /><label for="cbx_5"> <strong>ç»ˆç«¯ 1</strong>ï¼šroscore æ­£å¸¸è¿è¡Œ</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_6" disabled="true" /><label for="cbx_6"> <strong>ç»ˆç«¯ 2</strong>ï¼šROMA èŠ‚ç‚¹æ— é”™è¯¯</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_7" disabled="true" /><label for="cbx_7"> <strong>ç»ˆç«¯ 3</strong>ï¼šSLAM ç³»ç»Ÿè¾“å‡ºæ­£å¸¸</label></li>
</ul>
<h3 id="æˆåŠŸè¿è¡Œæ ‡å¿—"><a class="anchor" href="#æˆåŠŸè¿è¡Œæ ‡å¿—">#</a> æˆåŠŸè¿è¡Œæ ‡å¿—ï¼š</h3>
<pre><code>âœ… ROS node initialized
âœ… LoFTR Integration: ENABLED  
âœ… ROS Communication: INITIALIZED
âœ… Using LoFTR for MonocularInitialization...
âœ… Requesting ROS-ROMA matching for initialization...
âœ… ROS-ROMA generated X matches
âœ… Initialization SUCCESS! Creating initial map...
</code></pre>
<hr />
<h2 id="ï¸-é…ç½®æ–‡ä»¶è¯´æ˜"><a class="anchor" href="#ï¸-é…ç½®æ–‡ä»¶è¯´æ˜">#</a> âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜</h2>
<h3 id="tumeurocé…ç½®æ–‡ä»¶éœ€åŒ…å«"><a class="anchor" href="#tumeurocé…ç½®æ–‡ä»¶éœ€åŒ…å«">#</a> TUM/EuRoC é…ç½®æ–‡ä»¶éœ€åŒ…å«ï¼š</h3>
<figure class="highlight yaml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># LoFTR/ROMA é…ç½®</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token key atrule">LoFTR.use</span><span class="token punctuation">:</span> <span class="token number">1</span>                      <span class="token comment"># å¯ç”¨ ROMA åŒ¹é…</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token key atrule">LoFTR.confidenceThreshold</span><span class="token punctuation">:</span> <span class="token number">0.8</span>    <span class="token comment"># ç½®ä¿¡åº¦é˜ˆå€¼  </span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token key atrule">LoFTR.distanceThreshold</span><span class="token punctuation">:</span> <span class="token number">5.0</span>      <span class="token comment"># è·ç¦»é˜ˆå€¼</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token key atrule">LoFTR.initThreshold</span><span class="token punctuation">:</span> <span class="token number">20</span>           <span class="token comment"># åˆå§‹åŒ–æ‰€éœ€æœ€å°‘åŒ¹é…æ•°</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># ç›¸æœºå‚æ•°ï¼ˆå¿…é¡»ï¼‰</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token key atrule">Camera.fx</span><span class="token punctuation">:</span> <span class="token number">517.306408</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token key atrule">Camera.fy</span><span class="token punctuation">:</span> <span class="token number">516.469215</span>  </pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token key atrule">Camera.cx</span><span class="token punctuation">:</span> <span class="token number">318.643040</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token key atrule">Camera.cy</span><span class="token punctuation">:</span> <span class="token number">255.313989</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment"># ... å…¶ä»–ç›¸æœºå‚æ•°</span></pre></td></tr></table></figure><hr />
<h2 id="rosé€šä¿¡åè®®"><a class="anchor" href="#rosé€šä¿¡åè®®">#</a> ğŸ“¡ ROS é€šä¿¡åè®®</h2>
<h3 id="featurematchrequest-å‘é€"><a class="anchor" href="#featurematchrequest-å‘é€">#</a> FeatureMatchRequest (å‘é€)</h3>
<figure class="highlight yaml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre>std_msgs/Header header</pre></td></tr><tr><td data-num="2"></td><td><pre>sensor_msgs/Image image1      <span class="token comment"># å‚è€ƒå›¾åƒï¼ˆBGR æ ¼å¼ï¼‰</span></pre></td></tr><tr><td data-num="3"></td><td><pre>sensor_msgs/Image image2      <span class="token comment"># å½“å‰å›¾åƒï¼ˆBGR æ ¼å¼ï¼‰</span></pre></td></tr><tr><td data-num="4"></td><td><pre>float32<span class="token punctuation">[</span><span class="token punctuation">]</span> keypoints1_x        <span class="token comment"># å‚è€ƒå›¾åƒ ORB å…³é”®ç‚¹ X åæ ‡</span></pre></td></tr><tr><td data-num="5"></td><td><pre>float32<span class="token punctuation">[</span><span class="token punctuation">]</span> keypoints1_y        <span class="token comment"># å‚è€ƒå›¾åƒ ORB å…³é”®ç‚¹ Y åæ ‡</span></pre></td></tr></table></figure><h3 id="featurematchresult-æ¥æ”¶"><a class="anchor" href="#featurematchresult-æ¥æ”¶">#</a> FeatureMatchResult (æ¥æ”¶)</h3>
<figure class="highlight yaml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre>std_msgs/Header header</pre></td></tr><tr><td data-num="2"></td><td><pre>float32<span class="token punctuation">[</span><span class="token punctuation">]</span> matches_x           <span class="token comment"># åŒ¹é…ç‚¹ X åæ ‡ï¼ˆä¸è¾“å…¥å…³é”®ç‚¹ä¸€ä¸€å¯¹åº”ï¼‰</span></pre></td></tr><tr><td data-num="3"></td><td><pre>float32<span class="token punctuation">[</span><span class="token punctuation">]</span> matches_y           <span class="token comment"># åŒ¹é…ç‚¹ Y åæ ‡ï¼ˆæ— æ•ˆåŒ¹é…æ—¶ä¸º - 1ï¼‰</span></pre></td></tr></table></figure><h3 id="topicåç§°"><a class="anchor" href="#topicåç§°">#</a> Topic åç§°</h3>
<ul>
<li><strong>Request</strong>:  <code>/feature_match_request</code></li>
<li><strong>Result</strong>:  <code>/feature_match_result</code></li>
</ul>
<hr />
<h2 id="ç³»ç»Ÿä¼˜åŠ¿å¯¹æ¯”"><a class="anchor" href="#ç³»ç»Ÿä¼˜åŠ¿å¯¹æ¯”">#</a> ğŸ¯ ç³»ç»Ÿä¼˜åŠ¿å¯¹æ¯”</h2>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>åŸ LoFTR æ–‡ä»¶æ–¹å¼</th>
<th>æ–° ROS-ROMA æ–¹å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>æ•°æ®é¢„å¤„ç†</strong></td>
<td>âŒ éœ€é¢„è®¡ç®— NPZ æ–‡ä»¶</td>
<td>âœ… å®æ—¶è®¡ç®—</td>
</tr>
<tr>
<td><strong>å­˜å‚¨éœ€æ±‚</strong></td>
<td>âŒ å¤§é‡ç£ç›˜ç©ºé—´</td>
<td>âœ… æœ€å°å†…å­˜å ç”¨</td>
</tr>
<tr>
<td><strong>åŒ¹é…çµæ´»æ€§</strong></td>
<td>âŒ å›ºå®šå›¾åƒå¯¹</td>
<td>âœ… ä»»æ„å›¾åƒåŒ¹é…</td>
</tr>
<tr>
<td><strong>warp åœºæ”¯æŒ</strong></td>
<td>âŒ ä¸æ”¯æŒ</td>
<td>âœ… å®Œå…¨æ”¯æŒ</td>
</tr>
<tr>
<td><strong>è·Ÿè¸ªèƒ½åŠ›</strong></td>
<td>âŒ éš¾ä»¥å®ç°</td>
<td>âœ… ä¼˜ç§€çš„è·Ÿè¸ªæ€§èƒ½</td>
</tr>
<tr>
<td><strong>å®æ—¶æ€§</strong></td>
<td>âŒ ç¦»çº¿å¤„ç†</td>
<td>âœ… å®æ—¶å“åº”</td>
</tr>
<tr>
<td><strong>æ‰©å±•æ€§</strong></td>
<td>âŒ éš¾ä»¥æ‰©å±•</td>
<td>âœ… æ¨¡å—åŒ–è®¾è®¡</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="æ•…éšœæ’é™¤æŒ‡å—"><a class="anchor" href="#æ•…éšœæ’é™¤æŒ‡å—">#</a> ğŸ”§ æ•…éšœæ’é™¤æŒ‡å—</h2>
<h3 id="ç¼–è¯‘é—®é¢˜"><a class="anchor" href="#ç¼–è¯‘é—®é¢˜">#</a> ç¼–è¯‘é—®é¢˜</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 1. ROS ä¾èµ–ç¼ºå¤±</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ros-noetic-cv-bridge ros-noetic-sensor-msgs</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 2. feature_msgs æœªç¼–è¯‘</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token builtin class-name">cd</span> ros_match_ws_v2 <span class="token operator">&amp;&amp;</span> catkin_make</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 3. å¤´æ–‡ä»¶è·¯å¾„é”™è¯¯</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">source</span> ros_match_ws_v2/devel/setup.bash</pre></td></tr></table></figure><h3 id="è¿è¡Œæ—¶é—®é¢˜"><a class="anchor" href="#è¿è¡Œæ—¶é—®é¢˜">#</a> è¿è¡Œæ—¶é—®é¢˜</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 1. ROS é€šä¿¡å¤±è´¥ - æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€</span></pre></td></tr><tr><td data-num="2"></td><td><pre>rosnode list</pre></td></tr><tr><td data-num="3"></td><td><pre>rosnode info /roma_ros_node</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 2. Topic é€šä¿¡é—®é¢˜</span></pre></td></tr><tr><td data-num="6"></td><td><pre>rostopic info /feature_match_request</pre></td></tr><tr><td data-num="7"></td><td><pre>rostopic info /feature_match_result</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 3. ROMA æ¨¡å‹åŠ è½½å¤±è´¥</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># æ£€æŸ¥ Python ç¯å¢ƒå’Œ ROMA æ¨¡å‹æ–‡ä»¶</span></pre></td></tr></table></figure><h3 id="æ€§èƒ½é—®é¢˜"><a class="anchor" href="#æ€§èƒ½é—®é¢˜">#</a> æ€§èƒ½é—®é¢˜</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 1. è¶…æ—¶é¢‘ç¹ - è°ƒæ•´è¶…æ—¶å‚æ•°</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># åœ¨ Tracking.cc ä¸­ä¿®æ”¹ timeout_sec å€¼</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 2. å†…å­˜ä¸è¶³ - é™ä½ ROMA åˆ†è¾¨ç‡</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># åœ¨ roma_match_node.py ä¸­è°ƒæ•´ coarse_res å’Œ upsample_res</span></pre></td></tr></table></figure><hr />
<h2 id="é¡¹ç›®æˆæœæ€»ç»“"><a class="anchor" href="#é¡¹ç›®æˆæœæ€»ç»“">#</a> ğŸš€ é¡¹ç›®æˆæœæ€»ç»“</h2>
<h3 id="å·²å®ŒæˆåŠŸèƒ½"><a class="anchor" href="#å·²å®ŒæˆåŠŸèƒ½">#</a> âœ… å·²å®ŒæˆåŠŸèƒ½</h3>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_8" checked="true" disabled="true" /><label for="cbx_8"> <strong>åˆå§‹åŒ–æˆåŠŸ</strong>ï¼šROS-ROMA å®ç° SLAM åˆå§‹åŒ–</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_9" checked="true" disabled="true" /><label for="cbx_9"> <strong>ROS é€šä¿¡</strong>ï¼šç¨³å®šçš„å¼‚æ­¥æ¶ˆæ¯ä¼ é€’</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_10" checked="true" disabled="true" /><label for="cbx_10"> <strong>æ¡ä»¶ç¼–è¯‘</strong>ï¼šæ”¯æŒæœ‰ / æ—  ROS ç¯å¢ƒç¼–è¯‘</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_11" checked="true" disabled="true" /><label for="cbx_11"> <strong>å›¾åƒå¤„ç†</strong>ï¼šè‡ªåŠ¨ BGR/RGB è½¬æ¢é€‚é…</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_12" checked="true" disabled="true" /><label for="cbx_12"> <strong>é”™è¯¯å¤„ç†</strong>ï¼šå®Œå–„çš„è¶…æ—¶å’Œå¼‚å¸¸ç®¡ç†</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_13" checked="true" disabled="true" /><label for="cbx_13"> <strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šç‹¬ç«‹çº¿ç¨‹é¿å…é˜»å¡</label></li>
</ul>
<h3 id="ä¸‹ä¸€æ­¥è®¡åˆ’è·Ÿè¸ªåŠŸèƒ½"><a class="anchor" href="#ä¸‹ä¸€æ­¥è®¡åˆ’è·Ÿè¸ªåŠŸèƒ½">#</a> ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’ï¼šè·Ÿè¸ªåŠŸèƒ½</h3>
<figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// åœ¨ TrackWithMotionModel () æˆ– TrackReferenceKeyFrame () ä¸­</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// æ›¿æ¢ ORB åŒ¹é…ä¸º ROS-ROMA åŒ¹é…</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> nmatches <span class="token operator">=</span> mpLoFTRMatcher<span class="token operator">-></span><span class="token function">MatchFramesWithROS</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    referenceImage<span class="token punctuation">,</span> mCurrentImageColor<span class="token punctuation">,</span> referenceKeypoints<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    matched_pts1<span class="token punctuation">,</span> matched_pts2<span class="token punctuation">,</span> confidences<span class="token punctuation">,</span> <span class="token number">3.0f</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="æŠ€æœ¯æŒ‡æ ‡"><a class="anchor" href="#æŠ€æœ¯æŒ‡æ ‡">#</a> ğŸ“Š æŠ€æœ¯æŒ‡æ ‡</h3>
<ul>
<li><strong>åˆå§‹åŒ–åŒ¹é…æ•°</strong>ï¼šé€šå¸¸ 200-800 ä¸ª ROMA åŒ¹é…ç‚¹</li>
<li><strong>é€šä¿¡å»¶è¿Ÿ</strong>ï¼š&lt;100ms (å–å†³äº GPU æ€§èƒ½)</li>
<li><strong>å†…å­˜å ç”¨</strong>ï¼šç›¸æ¯”æ–‡ä»¶æ–¹å¼å‡å°‘ 90%+</li>
<li><strong>å®æ—¶æ€§</strong>ï¼šæ”¯æŒ 30fps è§†é¢‘æµå¤„ç†</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šå¼‚æ­¥é€šä¿¡ + è¶…æ—¶ä¿æŠ¤</li>
</ul>
<hr />
<h2 id="æ”¯æŒä¿¡æ¯"><a class="anchor" href="#æ”¯æŒä¿¡æ¯">#</a> ğŸ“ æ”¯æŒä¿¡æ¯</h2>
<h3 id="é‡è¦æ–‡ä»¶è·¯å¾„"><a class="anchor" href="#é‡è¦æ–‡ä»¶è·¯å¾„">#</a> é‡è¦æ–‡ä»¶è·¯å¾„</h3>
<pre><code>roma_slam2/
â”œâ”€â”€ src/LoFTRMatcher.cc          # ROSé€šä¿¡æ ¸å¿ƒå®ç°
â”œâ”€â”€ include/LoFTRMatcher.h       # ROSæ¥å£å®šä¹‰
â”œâ”€â”€ src/Tracking.cc              # SLAMé›†æˆé€»è¾‘  
â”œâ”€â”€ Examples/Monocular/mono_tum.cc  # ç¨‹åºå…¥å£
â””â”€â”€ ros_match_ws_v2/             # ROSå·¥ä½œç©ºé—´
    â””â”€â”€ src/roma_bridge/scripts/roma_match_node.py  # ROMAæœåŠ¡
</code></pre>
<h3 id="è°ƒè¯•å‘½ä»¤"><a class="anchor" href="#è°ƒè¯•å‘½ä»¤">#</a> è°ƒè¯•å‘½ä»¤</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># æŸ¥çœ‹ ROS è¯é¢˜æµé‡</span></pre></td></tr><tr><td data-num="2"></td><td><pre>rostopic hz /feature_match_request</pre></td></tr><tr><td data-num="3"></td><td><pre>rostopic hz /feature_match_result</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># ç›‘æ§ç³»ç»Ÿèµ„æº</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">htop</span>        <span class="token comment"># CPU / å†…å­˜ä½¿ç”¨</span></pre></td></tr><tr><td data-num="7"></td><td><pre>nvidia-smi  <span class="token comment"># GPU ä½¿ç”¨æƒ…å†µ</span></pre></td></tr></table></figure><div class="tags"><a href="/tags/%E6%AF%95%E8%AE%BE/" rel="tag"><i class="ic i-tag"></i>æ¯•è®¾</a><a href="/tags/slam/" rel="tag"><i class="ic i-tag"></i>slam</a></div></div><footer><div class="meta"></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>å¯’å®µ<i class="ic i-at"><em>@</em></i>å¯’å®µçš„éšæƒ³å½•</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://hanxiaoi.github.io/2025/07/22/ROS_ROMA_Integration_README/" title="ROS-ROMAé›†æˆSLAMç³»ç»Ÿä½¿ç”¨è¯´æ˜">https://hanxiaoi.github.io/2025/07/22/ROS_ROMA_Integration_README/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2025/07/16/hello-world/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;source.unsplash.com?568751" title="Hello World"><span class="type">ä¸Šä¸€ç¯‡</span><h3>Hello World</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E8%BF%90%E8%A1%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.</span> <span class="toc-text"> å®Œæ•´è¿è¡Œæ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82"><span class="toc-number">1.1.</span> <span class="toc-text"> ç¯å¢ƒè¦æ±‚</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%A6%E7%BB%86%E8%BF%90%E8%A1%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.</span> <span class="toc-text"> ğŸš€ è¯¦ç»†è¿è¡Œæ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%E5%90%AF%E5%8A%A8ros%E6%A0%B8%E5%BF%83%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.1.</span> <span class="toc-text"> ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨ ROS æ ¸å¿ƒæœåŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E5%90%AF%E5%8A%A8roma%E5%8C%B9%E9%85%8D%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.2.</span> <span class="toc-text"> ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ ROMA åŒ¹é…æœåŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%E7%BC%96%E8%AF%91slam%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.3.</span> <span class="toc-text"> ç¬¬ä¸‰æ­¥ï¼šç¼–è¯‘ SLAM é¡¹ç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5%E8%BF%90%E8%A1%8Cslam%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.4.</span> <span class="toc-text"> ç¬¬å››æ­¥ï¼šè¿è¡Œ SLAM ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E7%9B%91%E6%8E%A7ros%E9%80%9A%E4%BF%A1%E7%8A%B6%E6%80%81"><span class="toc-number">2.5.</span> <span class="toc-text"> å¯é€‰ï¼šç›‘æ§ ROS é€šä¿¡çŠ¶æ€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95"><span class="toc-number">3.</span> <span class="toc-text"> ğŸ“‹ è¿è¡Œæ£€æŸ¥æ¸…å•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%89%8D%E6%A3%80%E6%9F%A5"><span class="toc-number">3.1.</span> <span class="toc-text"> å¯åŠ¨å‰æ£€æŸ¥ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E7%9B%91%E6%8E%A7"><span class="toc-number">3.2.</span> <span class="toc-text"> è¿è¡Œæ—¶ç›‘æ§ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E6%A0%87%E5%BF%97"><span class="toc-number">3.3.</span> <span class="toc-text"> æˆåŠŸè¿è¡Œæ ‡å¿—ï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%B8%8F-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">4.</span> <span class="toc-text"> âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tumeuroc%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%9C%80%E5%8C%85%E5%90%AB"><span class="toc-number">4.1.</span> <span class="toc-text"> TUM&#x2F;EuRoC é…ç½®æ–‡ä»¶éœ€åŒ…å«ï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ros%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.</span> <span class="toc-text"> ğŸ“¡ ROS é€šä¿¡åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#featurematchrequest-%E5%8F%91%E9%80%81"><span class="toc-number">5.1.</span> <span class="toc-text"> FeatureMatchRequest (å‘é€)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#featurematchresult-%E6%8E%A5%E6%94%B6"><span class="toc-number">5.2.</span> <span class="toc-text"> FeatureMatchResult (æ¥æ”¶)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#topic%E5%90%8D%E7%A7%B0"><span class="toc-number">5.3.</span> <span class="toc-text"> Topic åç§°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8A%BF%E5%AF%B9%E6%AF%94"><span class="toc-number">6.</span> <span class="toc-text"> ğŸ¯ ç³»ç»Ÿä¼˜åŠ¿å¯¹æ¯”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4%E6%8C%87%E5%8D%97"><span class="toc-number">7.</span> <span class="toc-text"> ğŸ”§ æ•…éšœæ’é™¤æŒ‡å—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E9%97%AE%E9%A2%98"><span class="toc-number">7.1.</span> <span class="toc-text"> ç¼–è¯‘é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%AE%E9%A2%98"><span class="toc-number">7.2.</span> <span class="toc-text"> è¿è¡Œæ—¶é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"><span class="toc-number">7.3.</span> <span class="toc-text"> æ€§èƒ½é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%88%90%E6%9E%9C%E6%80%BB%E7%BB%93"><span class="toc-number">8.</span> <span class="toc-text"> ğŸš€ é¡¹ç›®æˆæœæ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%B2%E5%AE%8C%E6%88%90%E5%8A%9F%E8%83%BD"><span class="toc-number">8.1.</span> <span class="toc-text"> âœ… å·²å®ŒæˆåŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5%E8%AE%A1%E5%88%92%E8%B7%9F%E8%B8%AA%E5%8A%9F%E8%83%BD"><span class="toc-number">8.2.</span> <span class="toc-text"> ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’ï¼šè·Ÿè¸ªåŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E6%8C%87%E6%A0%87"><span class="toc-number">8.3.</span> <span class="toc-text"> ğŸ“Š æŠ€æœ¯æŒ‡æ ‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%AF%E6%8C%81%E4%BF%A1%E6%81%AF"><span class="toc-number">9.</span> <span class="toc-text"> ğŸ“ æ”¯æŒä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="toc-number">9.1.</span> <span class="toc-text"> é‡è¦æ–‡ä»¶è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E5%91%BD%E4%BB%A4"><span class="toc-number">9.2.</span> <span class="toc-text"> è°ƒè¯•å‘½ä»¤</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li  class="active"><a href="/2025/07/22/ROS_ROMA_Integration_README/" rel="bookmark" title="ROS-ROMAé›†æˆSLAMç³»ç»Ÿä½¿ç”¨è¯´æ˜">ROS-ROMAé›†æˆSLAMç³»ç»Ÿä½¿ç”¨è¯´æ˜</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="å¯’å®µ" src="/assets/avatar.jpg"/><p class="name" itemprop="name">å¯’å®µ</p><div class="description" itemprop="description">è®°å½•æœ‰è¶£å†…å®¹</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">2</span><span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">1</span><span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">2</span><span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/yourname" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;yourname"><i class="ic i-github"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2025/07/16/hello-world/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div><div id="player"></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E7%A8%8B%E8%AE%B0%E5%BD%95/" title="åˆ†ç±»äºå·¥ç¨‹è®°å½•">å·¥ç¨‹è®°å½•</a></div><span><a href="/2025/07/22/ROS_ROMA_Integration_README/">ROS-ROMAé›†æˆSLAMç³»ç»Ÿä½¿ç”¨è¯´æ˜</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2025/07/16/hello-world/">Hello World</a></span></li></ul></div><div class="rpost pjax"><h2>æœ€æ–°è¯„è®º</h2></div></div><div class="status"><div class="copyright">&copy; 2024 -<span itemprop="copyrightYear">2025</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">å¯’å®µ @ hanxiao's blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="ç«™ç‚¹æ€»å­—æ•°">6k å­—</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">5 åˆ†é’Ÿ</span></div><div class="powered-by">åŸºäº <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
    path: `2025/07/22/ROS_ROMA_Integration_README/`,
    favicon: {
        show: `ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ`,
        hide: `(Â´Ğ”ï½€)å¤§å¤‰ã ï¼`
    },
    search: {
        placeholder: "æ–‡ç« æœç´¢",
        empty: "å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",
        stats: "${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"
    },
    nocopy: "false",
    copyright: `å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚`,
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">æ–‡ç« æ—¶æ•ˆæ€§æç¤º</span><br>è¿™æ˜¯ä¸€ç¯‡å‘å¸ƒäº {{publish}} å¤©å‰ï¼Œæœ€åä¸€æ¬¡æ›´æ–°åœ¨ {{updated}} å¤©å‰çš„æ–‡ç« ï¼Œéƒ¨åˆ†ä¿¡æ¯å¯èƒ½å·²ç»å‘ç”Ÿæ”¹å˜ï¼Œè¯·æ³¨æ„ç”„åˆ«ã€‚</p></div>`,
    quiz: {
        choice: `å•é€‰é¢˜`,
        multiple: `å¤šé€‰é¢˜`,
        true_false: `åˆ¤æ–­é¢˜`,
        essay: `é—®ç­”é¢˜`,
        gap_fill: `å¡«ç©ºé¢˜`,
        mistake: `é”™é¢˜å¤‡æ³¨`
    }
};
</script><script src="/js/siteInit.js?v=0.5.0" type="module" fetchpriority="high" defer></script></body></html><script>console.log('ğŸµ ShokaXæ™ºèƒ½éŸ³ä¹å¯åŠ¨è„šæœ¬');

let musicReady = false;
let playerShown = false;

// è‡ªåŠ¨æ˜¾ç¤ºæ’­æ”¾å™¨
window.addEventListener('load', function() {
    setTimeout(function() {
        const playerBtn = document.querySelector('#tool .item.player');
        if (playerBtn && !playerShown) {
            playerBtn.click();
            playerShown = true;
            console.log('ğŸ¶ æ’­æ”¾å™¨å·²è‡ªåŠ¨æ˜¾ç¤º');
            
            // æ˜¾ç¤ºå‹å¥½æç¤º
            showMusicTip();
        }
    }, 2000);
});

// æ˜¾ç¤ºéŸ³ä¹æç¤º
function showMusicTip() {
    // åˆ›å»ºä¸€ä¸ªç¾è§‚çš„æç¤º
    const tip = document.createElement('div');
    tip.innerHTML = 'ğŸµ ç‚¹å‡»å³ä¾§æŒ‰é’®å¼€å§‹æ’­æ”¾éŸ³ä¹';
    tip.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 10px 15px;
        border-radius: 20px;
        font-size: 14px;
        z-index: 9999;
        transition: opacity 0.3s ease;
        cursor: pointer;
    `;
    
    document.body.appendChild(tip);
    
    // 3ç§’åæ·¡å‡ºæç¤º
    setTimeout(() => {
        tip.style.opacity = '0.7';
    }, 3000);
    
    // éŸ³ä¹å¼€å§‹æ’­æ”¾åç§»é™¤æç¤º
    const checkMusic = setInterval(() => {
        const audio = document.querySelector('audio');
        if (audio && !audio.paused) {
            tip.style.opacity = '0';
            setTimeout(() => tip.remove(), 300);
            clearInterval(checkMusic);
        }
    }, 500);
}

// ç”¨æˆ·ä»»æ„äº¤äº’ç«‹å³æ’­æ”¾éŸ³ä¹
function startMusic(event) {
    if (musicReady) return;
    
    const audio = document.querySelector('audio');
    if (audio && audio.src && audio.paused) {
        console.log('ğŸµ ç”¨æˆ·äº¤äº’è§¦å‘ï¼Œå¼€å§‹æ’­æ”¾éŸ³ä¹');
        audio.play().then(() => {
            musicReady = true;
            console.log('ğŸ‰ éŸ³ä¹æ’­æ”¾æˆåŠŸï¼');
            
            // å¦‚æœæ’­æ”¾å™¨è¿˜æ²¡æ˜¾ç¤ºï¼Œç°åœ¨æ˜¾ç¤º
            if (!playerShown) {
                const playerBtn = document.querySelector('#tool .item.player');
                if (playerBtn) {
                    playerBtn.click();
                    playerShown = true;
                }
            }
        }).catch(e => {
            console.log('æ’­æ”¾å¤±è´¥:', e.message);
        });
    }
}

// ç›‘å¬æ‰€æœ‰å¯èƒ½çš„ç”¨æˆ·äº¤äº’
['click', 'touchstart', 'keydown', 'scroll'].forEach(eventType => {
    document.addEventListener(eventType, startMusic, { once: true, passive: true });
});

// ç‰¹åˆ«ä¼˜åŒ–ï¼šé¼ æ ‡ç§»åŠ¨ä¹Ÿèƒ½è§¦å‘ï¼ˆä½†å»¶è¿Ÿä¸€ç‚¹ï¼Œé¿å…è¯¯è§¦ï¼‰
let mouseMoveTimeout;
document.addEventListener('mousemove', function() {
    if (musicReady) return;
    
    clearTimeout(mouseMoveTimeout);
    mouseMoveTimeout = setTimeout(() => {
        startMusic();
    }, 1000); // é¼ æ ‡åœæ­¢ç§»åŠ¨1ç§’åè§¦å‘
}, { once: true });</script>